<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cc.mapper.ConfigMapper">
	     <!-- 结果对应-->
	<resultMap id="ConfigMap" type="com.cc.entity.Config">
		   <result property="configId" column="config_id" /> <!-- 主键id-->
		   <result property="configType" column="config_type" /> <!-- 类型code-->
		   <result property="configName" column="config_name" /> <!-- 类型名称-->
		   <result property="configValue" column="config_value" /> <!-- 值-->
		   <result property="configStatus" column="config_status" /> <!-- 是否启用-->
	</resultMap>
	
	
	<sql id="ConfigColumns">
		  config_id, config_type, config_name, config_value, config_status
    </sql>
	
    <!-- 分页条件查询-->
	<select id="listPageConfig" resultMap="ConfigMap" 
	parameterType="com.cc.entity.Config">
		select
		<include refid="ConfigColumns" />
		from config 
		 <where>
                  <if test="configId !=null">
			           and config_id=#{configId}
			      </if>
                  <if test="configType !=null and configType!=''">
			           and config_type=#{configType}
			      </if>
                  <if test="configName !=null and configName!=''">
			           and config_name=#{configName}
			      </if>
                  <if test="configValue !=null and configValue!=''">
			           and config_value=#{configValue}
			      </if>
                  <if test="configStatus !=null and configStatus!=''">
			           and config_status=#{configStatus}
			      </if>
		</where>
	</select>
	
	<!-- 查询config的数量-->
	<select id="getConfigCount" resultType="Integer">
		select count(*)
		from config
	</select>
	
	<!-- 插入 -->
	<insert id="insert" parameterType="Config" 
	  useGeneratedKeys="true" keyProperty="id">
		INSERT INTO config (
			config_id, config_type, config_name, config_value, config_status
		) VALUES (
			#{configId}, #{configType}, #{configName}, #{configValue}, #{configStatus}
		)
	</insert>
	<!-- 有条件的插入 -->
	<insert id="insertSelective" parameterType="com.cc.entity.Config" useGeneratedKeys="true" keyProperty="configId">
		insert into config
		<trim prefix="(" suffix=")" suffixOverrides=",">
                  <if test="configId !=null">
		      config_id,
		    </if>
                  <if test="configType !=null and configType!=''">
		      config_type,
		    </if>
                  <if test="configName !=null and configName!=''">
		      config_name,
		    </if>
                  <if test="configValue !=null and configValue!=''">
		      config_value,
		    </if>
                  <if test="configStatus !=null and configStatus!=''">
		      config_status,
		    </if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
		     <if test="configId !=null">
		     #{configId},
		    </if>
		    <if test="configType !=null and configType!=''">
		     #{configType},
		    </if>
		    <if test="configName !=null and configName!=''">
		     #{configName},
		    </if>
		    <if test="configValue !=null and configValue!=''">
		     #{configValue},
		    </if>
		    <if test="configStatus !=null and configStatus!=''">
		     #{configStatus},
		    </if>
		</trim>
	</insert>	
	
	<!-- 根据主键查询(唯一)-->
	<select id="getConfigById" parameterType="Integer" resultMap="ConfigMap">
		select 
		<include refid="ConfigColumns" /> 
		from config where 
		  	config_id=#{configId}
	</select>
	
	<!-- 根据条件查询 config  -->
	<select id="listConfig" resultMap="ConfigMap" parameterType="com.cc.entity.Config">
		select
		<include refid="ConfigColumns" />
		from config 
		<where>
                  <if test="configId !=null">
				and config_id=#{configId}
			</if>
                  <if test="configType !=null and configType!=''">
				and config_type=#{configType}
			</if>
                  <if test="configName !=null and configName!=''">
				and config_name=#{configName}
			</if>
                  <if test="configValue !=null and configValue!=''">
				and config_value=#{configValue}
			</if>
                  <if test="configStatus !=null and configStatus!=''">
				and config_status=#{configStatus}
			</if>
		</where>
	</select>
	
	<!--更新  -->
	<update id="updateConfig" parameterType="com.cc.entity.Config">
		UPDATE config 
		SET
		config_id=#{configId}, config_type=#{configType}, config_name=#{configName}, config_value=#{configValue}, config_status=#{configStatus}
		WHERE
		config_id=#{configId}
	</update>
		<!--根据条件update  -->
    <update id="updateByPrimaryKeySelective" parameterType="com.cc.entity.Config" >
	  UPDATE config 
		<set>
                  <if test="configId !=null">
			    config_id =  #{configId},
			</if>
                  <if test="configType !=null and configType!=''">
			    config_type =  #{configType},
			</if>
                  <if test="configName !=null and configName!=''">
			    config_name =  #{configName},
			</if>
                  <if test="configValue !=null and configValue!=''">
			    config_value =  #{configValue},
			</if>
                  <if test="configStatus !=null and configStatus!=''">
			    config_status =  #{configStatus},
			</if>
	   </set>
		WHERE
	config_id=#{configId}
	</update>
	
	
	<!--根据条件删除  -->
	<delete id="deleteConfig" parameterType="com.cc.entity.Config">
		delete from config 
	<where>
                  <if test="configId !=null">
				and config_id =  #{configId}
			</if>
                  <if test="configType !=null and configType!=''">
				and config_type =  #{configType}
			</if>
                  <if test="configName !=null and configName!=''">
				and config_name =  #{configName}
			</if>
                  <if test="configValue !=null and configValue!=''">
				and config_value =  #{configValue}
			</if>
                  <if test="configStatus !=null and configStatus!=''">
				and config_status =  #{configStatus}
			</if>
		</where> 
		 
	</delete>
</mapper>